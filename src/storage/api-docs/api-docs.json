{"openapi":"3.0.0","info":{"title":"Macro Backend","description":"RESTful API template made from lumen","contact":{"name":"Lloric Mayuga Garcia","email":"lloricode@gmail.com"},"license":{"name":"MIT","url":"https:\/\/opensource.org\/licenses\/MIT"},"version":"1.0"},"servers":[{"url":"http:\/\/localhost","description":"API Server"}],"paths":{"\/oauth\/token":{"post":{"tags":["Authentication"],"summary":"Generate access token","requestBody":{"content":{"application\/json":{"schema":{"properties":{"grant_type":{"type":"string"},"client_id":{"type":"integer"},"client_secret":{"type":"string"},"username":{"type":"integer"},"password":{"type":"string"}},"type":"object","example":{"grant_type":"password","client_id":"2","client_secret":"BZnwQmjc0LEi40jVKoW2ICX2LC1K4mG0NKfWBl8Z","username":"system@system.com","password":"secret"}}}}},"responses":{"200":{"description":"ok","content":{"application\/json":{"schema":{"properties":{"token_type":{"description":"Bearer","type":"string"},"expires_in":{"description":"Token expiration in miliseconds","type":"integer","items":{}},"access_token":{"description":"JWT access token","type":"string"},"refresh_token":{"description":"Token type","type":"string"}},"type":"object","example":{"token_type":"bearer","expires_in":3600,"access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJ...","refresh_token":"def50200b10ed22a1dab8bb0d18..."}}}}}}}},"\/auth\/authorizations\/assign-role-to-user":{"post":{"tags":["Authorization"],"summary":"Assign role to user","operationId":"App\\Http\\Controllers\\V1\\Backend\\Auth\\Authorization\\AuthorizationController::assignRoleToUser","parameters":[{"name":"include","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","enum":["roles","permissions"]}}}],"requestBody":{"content":{"application\/json":{"schema":{"properties":{"user_id":{"description":"User key","type":"int"},"role_id":{"description":"Role key","type":"int"}},"type":"object","example":{"user_id":"user-at-usercom","role_id":1}}}}},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/UserTransformer"}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/Error"}}}}}},"security":[{"passport":[]}]}},"\/auth\/authorizations\/revoke-role-from-user":{"delete":{"tags":["Authorization"],"summary":"Revoke role from user","operationId":"App\\Http\\Controllers\\V1\\Backend\\Auth\\Authorization\\AuthorizationController::revokeRoleFormUser","requestBody":{"content":{"application\/json":{"schema":{"properties":{"user_id":{"description":"User key","type":"int"},"role_id":{"description":"Role keyd","type":"int"}},"type":"object","example":{"user_id":"user-at-usercom","role_id":1}}}}},"responses":{"204":{"description":"The resource was revoked successfully."},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/Error"}}}}}},"security":[{"passport":[]}]}},"\/auth\/authorizations\/assign-permission-to-user":{"post":{"tags":["Authorization"],"summary":"Assign permission to user","operationId":"App\\Http\\Controllers\\V1\\Backend\\Auth\\Authorization\\AuthorizationController::assignPermissionToUser","parameters":[{"name":"include","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","enum":["roles","permissions"]}}}],"requestBody":{"content":{"application\/json":{"schema":{"properties":{"user_id":{"description":"User key","type":"int"},"permission_id":{"description":"Permission key","type":"int"}},"type":"object","example":{"user_id":"user-at-usercom","permission_id":1}}}}},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/UserTransformer"}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/Error"}}}}}},"security":[{"passport":[]}]}},"\/auth\/authorizations\/revoke-permission-from-user":{"delete":{"tags":["Authorization"],"summary":"Revoke permission from user","operationId":"App\\Http\\Controllers\\V1\\Backend\\Auth\\Authorization\\AuthorizationController::revokePermissionFromUser","requestBody":{"content":{"application\/json":{"schema":{"properties":{"user_id":{"description":"User key","type":"int"},"permission_id":{"description":"Permission key","type":"int"}},"type":"object","example":{"user_id":"user-at-usercom","permission_id":1}}}}},"responses":{"204":{"description":"The resource was revoked successfully."},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/Error"}}}}}},"security":[{"passport":[]}]}},"\/auth\/authorizations\/attach-permission-to-role":{"post":{"tags":["Authorization"],"summary":"Attach permission to role","operationId":"App\\Http\\Controllers\\V1\\Backend\\Auth\\Authorization\\AuthorizationController::attachPermissionToRole","parameters":[{"name":"include","in":"query","required":false,"schema":{"type":"array","items":{"type":"string","enum":["roles","permissions"]}}}],"requestBody":{"content":{"application\/json":{"schema":{"properties":{"role_id":{"description":"Role key","type":"int"},"permission_id":{"description":"Permission key","type":"int"}},"type":"object","example":{"role_id":1,"permission_id":1}}}}},"responses":{"200":{"description":"OK","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/UserTransformer"}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/Error"}}}}}},"security":[{"passport":[]}]}},"\/auth\/authorizations\/revoke-permission-from-role":{"delete":{"tags":["Authorization"],"summary":"Revoke permission from role","operationId":"App\\Http\\Controllers\\V1\\Backend\\Auth\\Authorization\\AuthorizationController::revokePermissionFromRole","requestBody":{"content":{"application\/json":{"schema":{"properties":{"role_id":{"description":"Role key","type":"int"},"permission_id":{"description":"Permission key","type":"int"}},"type":"object","example":{"role_id":1,"permission_id":1}}}}},"responses":{"204":{"description":"The resource was revoked successfully."},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"array","items":{"$ref":"#\/components\/schemas\/Error"}}}}}},"security":[{"passport":[]}]}},"\/profile":{"get":{"tags":["Access"],"summary":"Get current logged in user profile","operationId":"App\\Http\\Controllers\\V1\\Frontend\\User\\UserAccessController::profile","responses":{"200":{"description":"Returns some sample category things","content":{"application\/json":{"schema":{}}}}},"security":[{"passport":[]}]}},"\/localizations":{"get":{"tags":["Localizations"],"operationId":"App\\Http\\Controllers\\V1\\LocalizationController::index","responses":{"200":{"description":"Returns some sample category things","content":{"application\/json":{"schema":{}}}}}}}},"components":{"schemas":{"Error":{"required":["message"],"properties":{"message":{"type":"string"}},"type":"object"},"UserTransformer":{"properties":{"id":{"type":"string"},"attributes":{"properties":{"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"created_at":{"type":"string"},"created_at_readable":{"type":"string"},"updated_at":{"type":"string"},"updated_at_readable":{"type":"string"}},"type":"object"},"relationships":{"type":"array","items":{}},"meta":{"type":"array","items":{"properties":{"include":{"type":"array","items":{}}},"type":"object"}}},"type":"object"}},"securitySchemes":{"passport":{"type":"oauth2","description":"Laravel passport oauth2 security.","in":"header","scheme":"https","flows":{"password":{"authorizationUrl":"http:\/\/localhost\/oauth\/authorize","tokenUrl":"http:\/\/localhost\/oauth\/token","refreshUrl":"http:\/\/localhost\/token\/refresh","scopes":[]}}}}},"tags":[{"name":"Authentication","description":"API Endpoints of Authentication"},{"name":"Authorization","description":"API Endpoints of Authorization"},{"name":"Localizations","description":"API Endpoints of Localizations"},{"name":"Access","description":"API Endpoints of Access"}]}